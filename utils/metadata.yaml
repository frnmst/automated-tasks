#
# Copyright (C) 2019 Franco Masotti <franco.masotti@live.com>
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.

desktop:
    random_wallpaper.sh:
        enabled: false
        purpose: >
            I use this to automatically change wallpaper every few minutes.
        steps:
            - 1: >
                Edit the configuration file with image URLs or paths
        references:
            - https://linuxdifficile.wordpress.com/2014/04/24/sfondo-desktop-dinamico-per-linux/
        programming language: bash
        running user: mydesktopuser
        dependencies:
            - GNU Bash:
                binaries:
                    - bash
                version:  5.0.7(1)
                homepage: http://www.gnu.org/software/bash/bash.html
            - GNU Coreutils:
                binaries:
                    - shuf
                version: 8.31
                homepage: https://www.gnu.org/software/coreutils/
            - feh:
                binaries:
                    - feh
                version: 3.2
                homepage: https://feh.finalrewind.org/
        configuration files:
            notes: >
                Only 1 URL or path is allowed per line. feh will raise an error
                if an empty line is parsed.
            paths:
                - random_wallpaper.conf
        systemd unit files:
            paths:
                service:
                    - random-wallpaper.service
                timer:
                    - random-wallpaper.timer
        deploy commands:
            start:
                - systemctl start random-wallpaper.timer
            enable:
                - systemctl enable random-wallpaper.timer
        license:
            name: CC-BY-SA 2.5
            homepage: http://creativecommons.org/licenses/by-sa/2.5/
    set_display_gamma.sh:
        enabled: false
        purpose: >
            I use this to automatically set a better gamma for the output on a tv.
        steps:
            - 1: >
                Edit the configuration file
        references:
            - https://askubuntu.com/a/62270
        programming language: bash
        running user: mydesktopuser
        dependencies:
            - GNU Bash:
                binaries:
                    - bash
                version:  5.0.7(1)
                homepage: http://www.gnu.org/software/bash/bash.html
            - Xorg:
                binaries:
                    - xrandr
                version: 1.5.0
                homepage: https://xorg.freedesktop.org/
        configuration files:
            notes: >
                Make sure that the XORG_DISPLAY variable is set correctly.
                To find out the current display variable run `echo ${DISPLAY}`.
            paths:
                - set_display_gamma.TV_HDMI1.conf
        systemd unit files:
            paths:
                service:
                    - set-display-gamma.service
                timer:
                    - set-display-gamma.timer
        deploy commands:
            start:
                - systemctl start set-display-gamma.timer
            enable:
                - systemctl enable set-display-gamma.timer
        license:
            name: CC-BY-SA 3.0
            homepage: https://creativecommons.org/licenses/by-sa/3.0/
misc:
    monitor_and_notify_git_repo_changes.sh:
        enabled: false
        purpose: >
            My Gitea instance is configured to mirror
            some repositories. Every 30 minutes this script checks for new
            commits in those bare git repositories. If something new
            is commited a notification is sent to my Gotify instance.
            This script also works for non-bare git repositories
        steps:
            - 1: >
                Install Gotify and run an instance
            - 2: >
                Edit the configuration file
        references:
            - https://gitea.io/en-us/
            - https://gotify.net/
            - https://gotify.net/docs/pushmsg
        programming language: bash
        running user: myuser
        dependencies:
            - GNU Bash:
                binaries:
                    - bash
                version: 5.0.7(1)
                homepage: http://www.gnu.org/software/bash/bash.html
            - GNU Coreutils:
                binaries:
                    - printf
                version: 8.31
                homepage: https://www.gnu.org/software/coreutils/
            - curl:
                binaries:
                    - curl
                version: 7.66.0
                homepage: https://curl.haxx.se
            - Git:
                binaries:
                    - git
                version: 2.23.0
                homepage: https://git-scm.com/
        configuration files:
            notes: >
                To avoid missing or reading duplicate messages, the variable
                CHECK_TIMEOUT_INTERVAL_SECONDS should be set
                to the same value as the one in the systemd timer unit
                file (OnCalendar). I use one configuration file
                per group of repositories.
            paths:
                - monitor_and_notify_git_repo_changes.myrepos.conf
        systemd unit files:
            notes: >
                I use one configuration file per group of repositories.
            paths:
                service:
                    - monitor-and-notify-git-repo-changes.myrepos.service
                timer:
                    - monitor-and-notify-git-repo-changes.myrepos.timer
        deploy commands:
            start:
                - systemctl start monitor-and-notify-git-repo-changes.myrepos.timer
            enable:
                - systemctl enable monitor-and-notify-git-repo-changes.myrepos.timer
        license:
            name: GPLv3+
            homepage: https://www.gnu.org/licenses/gpl-3.0.html
    yacy:
        enabled: false
        purpose: >
            A personal search engine.
        steps:
            - 1: >
                Setup YaCy
            - 2: >
                Create a `yacy` user and group
        references:
            - https://yacy.net/index.html
            - https://github.com/yacy/yacy_search_server
        programming language: java
        running user: yacy
        dependencies:
            - YaCy:
                binaries:
                    - startYACY.sh
                    - stopYACY.sh
                version:
                homepage: https://github.com/yacy/yacy_search_server
        systemd unit files:
            paths:
                service:
                    - yacy-search-server.service
        deploy commands:
            start:
                - systemctl start yacy-search-server.service
            enable:
                - systemctl enable yacy-search-server.service
        license:
            name: LGPLv2+
            homepage: https://www.gnu.org/licenses/old-licenses/lgpl-2.1.en.html
    notify_camera_action.sh:
        enabled: false
        purpose: >
            Notify when a camera connected to a system running motion is
            found or lost (disconnected).
        steps:
            - 1: >
                Setup Motion
            - 2: >
                Edit the camera's configuration file with:
                ```
                # Run camera actions.
                on_camera_lost /home/jobs/scripts/by-user/motion/notify_camera_action.sh /home/jobs/scripts/by-user/motion/notify_camera_action.conf "%$ (id: %t)" "lost"
                on_camera_found /home/jobs/scripts/by-user/motion/notify_camera_action.sh /home/jobs/scripts/by-user/motion/notify_camera_action.conf "%$ (id: %t)" "found"
                ```
            - 3: >
                Optionally install Gotify and run an instance
        references:
            - https://motion-project.github.io/motion_config.html
        programming language: bash
        running user: motion
        dependencies:
            - GNU Bash:
                binaries:
                    - bash
                version: 5.0.11(1)
                homepage: http://www.gnu.org/software/bash/bash.html
            - GNU Coreutils:
                binaries:
                    - printf
                    - stdbuf
                    - sync
                version: 8.31
                homepage: https://www.gnu.org/software/coreutils/
            - curl:
                binaries:
                    - curl
                version: 7.67.0
                homepage: https://curl.haxx.se
        configuration files:
            notes: >
                A single file is used for all the cameras connected to a system.
            paths:
                - notify_camera_action.conf
        license:
            name: GPLv3+
            homepage: https://www.gnu.org/licenses/gpl-3.0.html
